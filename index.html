<html>
  <head>
    <script src="https://aframe.io/releases/1.0.3/aframe.min.js"></script>
  </head>
  <body>
    <a-scene>
      <a-entity id="maze" position="-4 1 -10">

      <a-text
        id="devicemotion"
        position="2 3 3"
        value="devicemotion"
        color="black"
      ></a-text>

      <a-text
        id="deviceorientation"
        position="2 0 3"
        value="deviceorientation"
        color="black"
      ></a-text>

      <a-text
        id="something"
        position="2 -1 3"
        value="something"
        color="black"
      ></a-text>

      <a-sky
        src="https://cdn.aframe.io/360-image-gallery-boilerplate/img/city.jpg"
        rotation="0 0 0"
      ></a-sky>
    </a-scene>
  </body>
  <script>
  const something = document.body.querySelector("#something");
  const devicemotion = document.body.querySelector("#devicemotion");
  const deviceorientation = document.body.querySelector("#deviceorientation");
    
  const handleOrientation = (event) => {
    console.log("START :", handleOrientation);
    something.value = `START handleOrientation`;
    
    deviceorientation.value = `START deviceorientation ${event.alpha} / ${event.beta} / ${event.gamma}`;

  }

  const handleMotion = (event) =>{
    console.log("START :", handleMotion);
    something.value = `START devicemotion`;
        
    console.log(event.acceleration.x + " m/s2");
    let camera = document.getElementById("camera");

      if (camera) {
        let position = camera.getAttribute("position");
        let rotation = camera.getAttribute("rotation");
        devicemotion.value = `START devicemotion ${event.acceleration.x} / ${event.acceleration.y} / ${event.acceleration.z}`;
        console.log("START :", devicemotion);

        position.x += event.acceleration.x;
        position.z += event.acceleration.y;
        camera.setAttribute("position", position);
      }
  }


    window.addEventListener("deviceorientation", handleOrientation, true);
    window.addEventListener("devicemotion", handleMotion, true);
    

    console.log("START3-1 :", something.value);
    something.value = `SET UP!`;
    console.log("START1 :", devicemotion);
    console.log("START2 :", deviceorientation);
    console.log("START3-2 :", something.value);
  </script>
</html>
